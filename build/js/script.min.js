"use strict";function e(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}var t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};!function(){for(var e=["DocumentType","Element","CharacterData"],t=function(){null!=this.parentNode&&this.parentNode.removeChild(this)},i=0;i<e.length;i++){var r=e[i];window[r]&&!window[r].prototype.remove&&(window[r].prototype.remove=t)}}(),function(e){function i(){}function r(e){if("object"!==t(this))throw new TypeError("Promises must be constructed via new");if("function"!=typeof e)throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],u(e,this)}function n(e,t){for(;3===e._state;)e=e._value;return 0===e._state?void e._deferreds.push(t):(e._handled=!0,void r._immediateFn((function(){var i=1===e._state?t.onFulfilled:t.onRejected;if(null!==i){var r;try{r=i(e._value)}catch(e){return void s(t.promise,e)}o(t.promise,r)}else(1===e._state?o:s)(t.promise,e._value)})))}function o(e,i){try{if(i===e)throw new TypeError("A promise cannot be resolved with itself.");if(i&&("object"===(void 0===i?"undefined":t(i))||"function"==typeof i)){var n=i.then;if(i instanceof r)return e._state=3,e._value=i,void a(e);if("function"==typeof n)return void u(function(e,t){return function(){e.apply(t,arguments)}}(n,i),e)}e._state=1,e._value=i,a(e)}catch(t){s(e,t)}}function s(e,t){e._state=2,e._value=t,a(e)}function a(e){2===e._state&&0===e._deferreds.length&&r._immediateFn((function(){e._handled||r._unhandledRejectionFn(e._value)}));for(var t=0,i=e._deferreds.length;t<i;t++)n(e,e._deferreds[t]);e._deferreds=null}function l(e,t,i){this.onFulfilled="function"==typeof e?e:null,this.onRejected="function"==typeof t?t:null,this.promise=i}function u(e,t){var i=!1;try{e((function(e){i||(i=!0,o(t,e))}),(function(e){i||(i=!0,s(t,e))}))}catch(e){if(i)return;i=!0,s(t,e)}}var c=setTimeout;r.prototype.catch=function(e){return this.then(null,e)},r.prototype.then=function(e,t){var r=new this.constructor(i);return n(this,new l(e,t,r)),r},r.all=function(e){var i=Array.prototype.slice.call(e);return new r((function(e,r){function n(s,a){try{if(a&&("object"===(void 0===a?"undefined":t(a))||"function"==typeof a)){var l=a.then;if("function"==typeof l)return void l.call(a,(function(e){n(s,e)}),r)}i[s]=a,0==--o&&e(i)}catch(e){r(e)}}if(0===i.length)return e([]);for(var o=i.length,s=0;s<i.length;s++)n(s,i[s])}))},r.resolve=function(e){return e&&"object"===(void 0===e?"undefined":t(e))&&e.constructor===r?e:new r((function(t){t(e)}))},r.reject=function(e){return new r((function(t,i){i(e)}))},r.race=function(e){return new r((function(t,i){for(var r=0,n=e.length;r<n;r++)e[r].then(t,i)}))},r._immediateFn="function"==typeof setImmediate&&function(e){setImmediate(e)}||function(e){c(e,0)},r._unhandledRejectionFn=function(e){"undefined"!=typeof console&&console&&console.warn("Possible Unhandled Promise Rejection:",e)},r._setImmediateFn=function(e){r._immediateFn=e},r._setUnhandledRejectionFn=function(e){r._unhandledRejectionFn=e},"undefined"!=typeof module&&module.exports?module.exports=r:e.Promise||(e.Promise=r)}(window),function(i){i.Promise||(i.Promise=Promise);var r="required",n="email",o="minLength",s="maxLength",a="password",l="phone",u="remote",c="strength",d="function",h=function(e,t){if("string"==typeof e)return e;var i="post"===t.toLowerCase()?"":"?";return Array.isArray(e)?i+e.map((function(e){return e.name+"="+e.value})).join("&"):i+Object.keys(e).map((function(t){return t+"="+e[t]})).join("&")},m=function(e){var t=e.url,i=e.method,r=e.data,n=e.debug,o=e.callback,s=e.error;if(n)o("test");else{var a=!1!==e.async,l=new XMLHttpRequest,u=h(r,"get"),c=null;"post"===i.toLowerCase()&&(c=h(r,"post"),u=""),l.open(i,t+u,a),l.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),l.onreadystatechange=function(){4===this.readyState&&(200===this.status?o(this.responseText):s&&s(this.responseText))},l.send(c)}},f=function(e,t){this.options=t||{},this.rules=this.options.rules||{},this.messages=this.options.messages||void 0,this.colorWrong=this.options.colorWrong||"#B81111",this.result={},this.elements=[],this.tooltip=this.options.tooltip||{},this.tooltipFadeOutTime=this.tooltip.fadeOutTime||5e3,this.tooltipFadeOutClass=this.tooltip.fadeOutClass||"just-validate-tooltip-hide",this.tooltipSelectorWrap=document.querySelectorAll(this.tooltip.selectorWrap).length?document.querySelectorAll(this.tooltip.selectorWrap):document.querySelectorAll(".just-validate-tooltip-container"),this.bindHandlerKeyup=this.handlerKeyup.bind(this),this.submitHandler=this.options.submitHandler||void 0,this.invalidFormCallback=this.options.invalidFormCallback||void 0,this.promisesRemote=[],this.isValidationSuccess=!1,this.focusWrongField=this.options.focusWrongField||!1,this.REGEXP={email:/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/,zip:/^\d{5}(-\d{4})?$/,phone:/^([0-9]( |-)?)?(\(?[0-9]{3}\)?|[0-9]{3})( |-)?([0-9]{3}( |-)?[0-9]{4}|[a-zA-Z0-9]{7})$/,password:/[^\w\d]*(([0-9]+.*[A-Za-z]+.*)|[A-Za-z]+.*([0-9]+.*))/,strengthPass:/^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)[a-zA-Z\d]/},this.DEFAULT_REMOTE_ERROR="Error",this.state={tooltipsTimer:null},this.setForm(document.querySelector(e))};f.prototype={defaultRules:{email:{required:!0,email:!0},name:{required:!0,minLength:3,maxLength:15},text:{required:!0,maxLength:300,minLength:5},password:{required:!0,password:!0,minLength:4,maxLength:8},zip:{required:!0,zip:!0},phone:{phone:!0}},defaultMessages:{required:"The field is required",email:"Please, type a valid email",maxLength:"The field must contain a maximum of :value characters",minLength:"The field must contain a minimum of :value characters",password:"Password is not valid",remote:"Email already exists",strength:"Password must contents at least one uppercase letter, one lowercase letter and one number",function:"Function returned false"},handlerKeyup:function(e){var t=e.target,i={name:t.getAttribute("data-validate-field"),value:t.value};delete this.result[i.name],this.validateItem({name:i.name,value:i.value,group:[],isKeyupChange:!0}),this.renderErrors()},setterEventListener:function(e,t,i,r){switch("keyup"===t&&(i=this.bindHandlerKeyup),r){case"add":e.addEventListener(t,i);break;case"remove":e.removeEventListener(t,i)}},getElementsRealValue:function(){for(var e=this.$form.querySelectorAll("*"),t=void 0,i={},r=0,n=e.length;r<n;++r)if(t=e[r].getAttribute("name")){if("checkbox"===e[r].type){i[t]=e[r].checked;continue}i[t]=e[r].value}return i},validationFailed:function(){this.invalidFormCallback&&this.invalidFormCallback(this.result);var e=document.querySelector(".js-validate-error-field");this.focusWrongField&&e&&e.focus&&e.focus()},validationSuccess:function(){if(0===Object.keys(this.result).length){if(this.isValidationSuccess=!1,this.submitHandler){var e=this.getElementsRealValue();return void this.submitHandler(this.$form,e,m)}this.$form.submit()}},setForm:function(e){var t=this;this.$form=e,this.$form.setAttribute("novalidate","novalidate"),this.$form.addEventListener("submit",(function(e){return e.preventDefault(),t.result=[],t.getElements(),t.promisesRemote.length?void Promise.all(t.promisesRemote).then((function(){t.promisesRemote=[],t.isValidationSuccess?t.validationSuccess():t.validationFailed()})):void(t.isValidationSuccess?t.validationSuccess():t.validationFailed())}))},isEmail:function(e){return this.REGEXP.email.test(e)},isZip:function(e){return this.REGEXP.zip.test(e)},isPhone:function(e){return this.REGEXP.phone.test(e)},isPassword:function(e){return this.REGEXP.password.test(e)},isEmpty:function(e){var t=e;return e.trim&&(t=e.trim()),!t},checkLengthMax:function(e,t){return e.length<=t},checkLengthMin:function(e,t){return e.length>=t},checkStrengthPass:function(e){return this.REGEXP.strengthPass.test(e)},getElements:function(){var e=this,t=this.$form.querySelectorAll("[data-validate-field]");this.elements=[];for(var i=function(i,r){var n=t[i],o=n.getAttribute("data-validate-field"),s=n.value,a=!1,l=[];if("checkbox"===n.type&&(s=n.checked||"",n.addEventListener("change",(function(t){var i=t.target,r={name:i.getAttribute("data-validate-field"),value:i.checked};delete e.result[r.name],e.validateItem({name:r.name,value:r.value,group:[]}),e.renderErrors()}))),"radio"===n.type){var u=e.elements.filter((function(e){if(e.name===o)return e}))[0];u?(u.group.push(n.checked),a=!0):l.push(n.checked),n.addEventListener("change",(function(t){var i=t.target,r={name:i.getAttribute("data-validate-field"),value:i.checked};delete e.result[r.name],e.validateItem({name:r.name,value:r.value,group:[]}),e.renderErrors()}))}e.setterEventListener(n,"keyup",e.handlerKeyup,"add"),a||e.elements.push({name:o,value:s,group:l})},r=0,n=t.length;r<n;++r)i(r);this.validateElements()},validateRequired:function(e){return!this.isEmpty(e)},validateEmail:function(e){return this.isEmail(e)},validatePhone:function(e){return this.isPhone(e)},validateMinLength:function(e,t){return this.checkLengthMin(e,t)},validateMaxLength:function(e,t){return this.checkLengthMax(e,t)},validateStrengthPass:function(e){return this.checkStrengthPass(e)},validatePassword:function(e){return this.isPassword(e)},validateZip:function(e){return this.isZip(e)},validateRemote:function(t){var i=t.value,r=t.name,n=t.url,o=t.successAnswer,s=t.sendParam,a=t.method;return new Promise((function(t){m({url:n,method:a,data:e({},s,i),async:!0,callback:function(e){e.toLowerCase()===o.toLowerCase()&&t("ok"),t({type:"incorrect",name:r})},error:function(){t({type:"error",name:r})}})}))},generateMessage:function(e,t,i){var r=this.messages||this.defaultMessages,n=r[t]&&r[t][e]||this.messages&&"string"==typeof this.messages[t]&&r[t]||this.defaultMessages[e]||this.DEFAULT_REMOTE_ERROR;i&&(n=n.replace(":value",i.toString())),this.result[t]={message:n}},validateElements:function(){var e=this;return this.lockForm(),this.elements.forEach((function(t){e.validateItem({name:t.name,value:t.value,group:t.group})})),this.promisesRemote.length?void Promise.all(this.promisesRemote).then((function(t){t.forEach((function(t){return"ok"===t||("error"===t.type&&alert("Server error occured. Please try later."),e.generateMessage(u,t.name)),void e.renderErrors()}))})):void this.renderErrors()},validateItem:function(e){var i=this,h=e.name,m=e.group,f=e.value,v=e.isKeyupChange,p=this.rules[h]||this.defaultRules[h]||!1;if(p)for(var y in p){var g=p[y];if(y!==r&&y!==d&&""==f)return;switch(y){case d:if("function"!=typeof g)break;if(g(h,f))break;return void this.generateMessage(d,h,g);case r:if(!g)break;if(m.length){var b=!1;if(m.forEach((function(e){i.validateRequired(e)&&(b=!0)})),b)break}else if(this.validateRequired(f))break;return void this.generateMessage(r,h);case n:if(!g)break;if(this.validateEmail(f))break;return void this.generateMessage(n,h);case o:if(!g)break;if(this.validateMinLength(f,g))break;return void this.generateMessage(o,h,g);case s:if(!g)break;if(this.validateMaxLength(f,g))break;return void this.generateMessage(s,h,g);case l:if(!g)break;if(this.validatePhone(f))break;return void this.generateMessage(l,h);case a:if(!g)break;if(this.validatePassword(f))break;return void this.generateMessage(a,h);case c:if(!g||"object"!==(void 0===g?"undefined":t(g)))break;if(g.default&&this.validateStrengthPass(f))break;if(g.custom){var E=void 0;try{E=new RegExp(g.custom)}catch(e){E=this.REGEXP.strengthPass,console.error("Custom regexp for strength rule is not valid. Default regexp was used.")}if(E.test(f))break}return void this.generateMessage(c,h);case"zip":if(!g)break;if(this.validateZip(f))break;return void this.generateMessage("zip",h);case u:if(v)break;if(!g)break;var w=g.url,k=g.successAnswer,_=g.method,L=g.sendParam,S=this.$form.querySelector('input[data-validate-field="'+h+'"]');return this.setterEventListener(S,"keyup",this.handlerKeyup,"remove"),void this.promisesRemote.push(this.validateRemote({name:h,value:f,url:w,method:_,sendParam:L,successAnswer:k}))}}},clearErrors:function(){for(var e=document.querySelectorAll(".js-validate-error-label"),t=0,i=e.length;t<i;++t)e[t].remove();for(var r=0,n=(e=document.querySelectorAll(".js-validate-error-field")).length;r<n;++r)e[r].classList.remove("js-validate-error-field"),e[r].style.border="",e[r].style.color=""},renderErrors:function(){var e=this;if(this.clearErrors(),this.unlockForm(),this.isValidationSuccess=!1,0!==Object.keys(this.result).length){for(var t in this.result){var i=this.result[t].message,r=this.$form.querySelectorAll('[data-validate-field="'+t+'"]'),n=r[r.length-1],o=document.createElement("div");if(o.innerHTML=i,o.className="js-validate-error-label",o.setAttribute("style","color: "+this.colorWrong),n.style.border="1px solid "+this.colorWrong,n.style.color=""+this.colorWrong,n.classList.add("js-validate-error-field"),"checkbox"===n.type||"radio"===n.type){var s=document.querySelector('label[for="'+n.getAttribute("id")+'"]');"label"===n.parentNode.tagName.toLowerCase()?n.parentNode.parentNode.insertBefore(o,null):s?s.parentNode.insertBefore(o,s.nextSibling):n.parentNode.insertBefore(o,n.nextSibling)}else n.parentNode.insertBefore(o,n.nextSibling)}this.tooltipSelectorWrap.length&&(this.state.tooltipsTimer=setTimeout((function(){e.hideTooltips()}),this.tooltipFadeOutTime))}else this.isValidationSuccess=!0},hideTooltips:function(){var e=this;document.querySelectorAll(".js-validate-error-label").forEach((function(t){t.classList.add(e.tooltipFadeOutClass)})),this.state.tooltipsTimer=null},lockForm:function(){for(var e=this.$form.querySelectorAll("input, textarea, button, select"),t=0,i=e.length;t<i;++t)e[t].setAttribute("disabled","disabled"),e[t].style.pointerEvents="none",e[t].style.webitFilter="grayscale(100%)",e[t].style.filter="grayscale(100%)"},unlockForm:function(){for(var e=this.$form.querySelectorAll("input, textarea, button, select"),t=0,i=e.length;t<i;++t)e[t].removeAttribute("disabled"),e[t].style.pointerEvents="",e[t].style.webitFilter="",e[t].style.filter=""}},i.JustValidate=f}(window),document.addEventListener("DOMContentLoaded",(function(){const e=document.querySelector("body"),t=document.querySelector(".header__burger"),i=document.querySelector(".nav");document.querySelector(".nav-active");t.addEventListener("click",(()=>{t.classList.toggle("header__burger-active"),t.classList.toggle("header__burger"),i.classList.toggle("nav-active"),e.classList.toggle("no-scroll")}));let r=27;document.addEventListener("keydown",(function(e){e.keyCode==r&&(t.classList.toggle("header__burger-active"),t.classList.toggle("header__burger"),i.classList.toggle("nav-active"))}));let n=window.matchMedia("(max-width: 575px)"),o=document.querySelector(".header__item-logo");document.querySelector(".header__search").addEventListener("click",(function(e){n.matches&&(o.style.cssText="\n    opacity: 0;\n    transition: .2s linear"),document.querySelector(".header-form").classList.add("header-form-active"),document.querySelector(".header-form__icon-closed").addEventListener("click",(function(e){o.style.opacity="1",document.querySelector(".header-form-active").classList.remove("header-form-active")}))})),new JustValidate(".studio__form",{rules:{email:{required:!0,email:!0}},colorWrong:"#f06666",messages:{email:{required:"Недопустимый формат"}}}),new JustValidate(".form",{rules:{name:{required:!0,minLength:2,maxLength:10},email:{required:!0,email:!0}},colorWrong:"#f06666",messages:{name:{required:"Как вас зовут?",minLength:"Введите 3 и более символов",maxLength:"Запрещено вводить более 15 символов"},email:{email:"Укажите ваш email",required:"Укажите ваш e-mail"}}}),ymaps.ready((function(){var e=new ymaps.Map("map",{center:[55.76027745729305,37.61536031599042],zoom:13});e.controls.remove("geolocationControl"),e.controls.remove("searchControl"),e.controls.remove("trafficControl"),e.controls.remove("typeSelector"),e.controls.remove("fullscreenControl"),e.controls.remove("zoomControl"),e.controls.remove("rulerControl"),e.behaviors.disable(["scrollZoom"]);var t=new ymaps.Placemark([55.769506409874566,37.63894927527743],{},{iconLayout:"default#image",iconImageHref:"/img/icons-sprite/icon-map.svg",iconImageSize:[12,12],iconImageOffset:[-2,-8]});e.geoObjects.add(t)}));const s=document.querySelector(".contacts-adress__burger"),a=document.querySelector(".contacts-adress__burger-1920"),l=document.querySelector(".contacts-adress-hidden__burger-hidden"),u=document.querySelector(".contacts-adress"),c=document.querySelector(".contacts-adress-hidden");s.addEventListener("click",(()=>{u.style.opacity="0",u.style.visibility="hidden",c.style.opacity="1",c.style.visibility="visible",l.style.opacity="1",l.style.visibility="visible"})),a.addEventListener("click",(()=>{u.style.opacity="0",u.style.visibility="hidden",c.style.opacity="1",c.style.visibility="visible",l.style.opacity="1",l.style.visibility="visible"})),l.addEventListener("click",(()=>{c.style.opacity="0",c.style.visibility="hidden",l.style.opacity="0",l.style.visibility="hidden",u.style.opacity="1",u.style.visibility="visible",s.style.opacity="1",s.style.visibility="visible"}))}));